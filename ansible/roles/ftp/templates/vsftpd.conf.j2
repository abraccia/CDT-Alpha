# Vulnerable FTP Server Configuration - Competition Setup
listen=YES
listen_ipv6=NO
anonymous_enable=YES
local_enable=YES
write_enable=YES
local_umask=022
dirmessage_enable=YES
use_localtime=YES
xferlog_enable=YES
connect_from_port_20=YES

# INTENTIONAL VULNERABILITIES FOR RED TEAM
# 1. Anonymous write access
anon_upload_enable=YES
anon_mkdir_write_enable=YES
anon_other_write_enable=YES

# 2. Weak permissions
anon_umask=000
local_umask=000

# 3. No security restrictions
chroot_local_user=NO
allow_writeable_chroot=YES

# 4. Weak authentication settings
session_support=NO
ssl_enable=NO

# 5. Information disclosure
ftpd_banner=Welcome to Troy (FTP v2.3.4)

# 6. Directory settings
anon_root={{ anonymous_root }}
local_root=/home/$USER

# 7. Connection settings (vulnerable)
idle_session_timeout=600
data_connection_timeout=120
max_clients=100
max_per_ip=10

# Logging for Blue Team
xferlog_file=/var/log/vsftpd.log
log_ftp_protocol=YES